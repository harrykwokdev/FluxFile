# ============================================================================
# FluxFile 环境配置示例
# ============================================================================
# 复制此文件为 .env 并根据需要修改配置

# ============================================================================
# 基础配置
# ============================================================================

# 调试模式（开发环境设为 true）
FLUX_DEBUG=false

# 服务器配置
FLUX_HOST=0.0.0.0
FLUX_PORT=8000
FLUX_WORKERS=4

# ============================================================================
# 安全配置
# ============================================================================

# JWT 密钥（生产环境必须修改！）
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
FLUX_SECRET_KEY=your-secret-key-change-in-production

# JWT 过期时间（分钟）
FLUX_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS 允许的源（逗号分隔）
FLUX_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# 文件系统配置
# ============================================================================

# 根目录（用户可访问的最高目录）
FLUX_ROOT_PATH=/

# 单文件大小限制（字节）
FLUX_MAX_FILE_SIZE=10737418240

# 目录扫描最大文件数
FLUX_MAX_SCAN_FILES=100000

# 是否显示隐藏文件
FLUX_SHOW_HIDDEN_FILES=false

# ============================================================================
# Redis 配置
# ============================================================================

FLUX_REDIS_HOST=localhost
FLUX_REDIS_PORT=6379
FLUX_REDIS_PASSWORD=
FLUX_REDIS_DB=0

# ============================================================================
# ClickHouse 配置
# ============================================================================

FLUX_CLICKHOUSE_HOST=localhost
FLUX_CLICKHOUSE_PORT=9000
FLUX_CLICKHOUSE_USER=default
FLUX_CLICKHOUSE_PASSWORD=
FLUX_CLICKHOUSE_DATABASE=fluxfile

# ============================================================================
# LDAP 配置
# ============================================================================

FLUX_LDAP_ENABLED=false
FLUX_LDAP_SERVER=ldap://localhost:389
FLUX_LDAP_BASE_DN=dc=example,dc=com
FLUX_LDAP_USER_DN=ou=users
FLUX_LDAP_BIND_DN=
FLUX_LDAP_BIND_PASSWORD=

# ============================================================================
# WebRTC 配置
# ============================================================================

# STUN 服务器（逗号分隔）
FLUX_STUN_SERVERS=stun:stun.l.google.com:19302

# TURN 服务器（逗号分隔）
FLUX_TURN_SERVERS=

# ============================================================================
# 性能配置
# ============================================================================

# 使用 C++ fast_fs 扩展
FLUX_USE_FAST_FS=true

# 并行哈希计算线程数（0 = 自动）
FLUX_HASH_THREADS=0

# 文件读取缓冲区大小
FLUX_READ_BUFFER_SIZE=1048576
